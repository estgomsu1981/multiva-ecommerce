# Archivo: netlify.toml
# Configuración FINAL para el despliegue

[build]
  # 1. Directorio base: Netlify entra aquí primero.
  base = "frontend"
  
  # 2. Comando de build: Se ejecuta dentro de 'frontend'.
  command = "npm run build"
  
  # 3. Directorio de publicación: Relativo a 'base'.
  #    Esta es la corrección clave.
  publish = "build"

  # 4. Directorio de funciones: Relativo a la RAÍZ del repositorio.
  functions = "netlify/functions"

# La configuración de desarrollo local no necesita cambiar.
[dev]
  command = "npm start --prefix frontend"
  port = 8888
  targetPort = 3000